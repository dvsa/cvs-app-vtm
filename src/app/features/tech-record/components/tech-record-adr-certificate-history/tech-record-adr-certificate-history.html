<ng-container *ngIf="showTable(); else noTable">
  <table class="govuk-table">
    <caption class="govuk-table__caption govuk-table__caption--m">
      ADR Certificate History
    </caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Time Generated</th>
        <th scope="col" class="govuk-table__header">Created By</th>
        <th scope="col" class="govuk-table__header">Certificate Type</th>
        <th scope="col" class="govuk-table__header">Certificate Link</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let certificate of getAdrCertificateHistory()">
        <td class="govuk-table__cell">{{certificate.generatedTimestamp}}</td>
        <td class="govuk-table__cell">{{certificate.createdByName}}</td>
        <td class="govuk-table__cell">{{certificate.certificateType}}</td>
        <td class="govuk-table__cell">
          <button [params]="documentParams(certificate)" [fileName]="getFileName(certificate)" appRetrieveDocument class="link">
            View
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</ng-container>

<ng-template #noTable>
  <h2 class="govuk-heading-m">ADR Certificate History</h2>
  <h3 class="govuk-heading-s" *ngIf="isEditing">You are unable to view certificates when editing a technical record.</h3>
  <h3 class="govuk-heading-s" *ngIf="!isEditing && isArchived()">You are unable to view certificates for archived records.</h3>
  <h3 class="govuk-heading-s" *ngIf="!isEditing && !isArchived() && getAdrCertificateHistory().length === 0">No ADR certificates found.</h3>
</ng-template>
