<section>
  <app-dynamic-form-group *ngIf="vehicleSummaryTemplate" [template]="vehicleSummaryTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="approvalTypeTemplate" [template]="approvalTypeTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="brakeTemplate" [template]="brakeTemplate" [data]="currentBrakeRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="brakeTemplateWheelsNotLocked" [template]="brakeTemplateWheelsNotLocked" [data]="currentBrakeRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="brakeTemplateWheelsHalfLocked" [template]="brakeTemplateWheelsHalfLocked" [data]="currentBrakeRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="dimensionsTemplate" [template]="dimensionsTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="applicantDetailsTemplate" [template]="applicantDetailsTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="documentsTemplate" [template]="documentsTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <app-dynamic-form-group *ngIf="notesTemplate" [template]="notesTemplate" [data]="currentRecord" class="govuk-summary-list"></app-dynamic-form-group>
  <table class="govuk-table" *ngIf="vehicleTechRecord && vehicleTechRecord.techRecord.length > 0">
    <caption class="govuk-table__caption govuk-table__caption--m">
      Technical Records
    </caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Status</th>
        <th scope="col" class="govuk-table__header">Reason for creation</th>
        <th scope="col" class="govuk-table__header">Created By</th>
        <th scope="col" class="govuk-table__header">Created At</th>
        <th scope="col" class="govuk-table__header"></th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      <tr class="govuk-table__row" *ngFor="let techRecord of vehicleTechRecord?.techRecord">
        <th scope="row" class="govuk-table__header">{{ techRecord.statusCode }}</th>
        <td class="govuk-table__cell">{{ techRecord.reasonForCreation }}</td>
        <td class="govuk-table__cell">{{ techRecord.createdByName }}</td>
        <td class="govuk-table__cell">{{ techRecord.createdAt | date: 'dd/MM/yyyy HH:mm' }}</td>
        <td class="govuk-table__cell">
          <ng-container *ngIf="techRecord.createdAt !== currentRecord?.createdAt">
            <a id="view-test-{{ vehicleTechRecord?.vin }}" href="/tech-records/{{ vehicleTechRecord?.vin }}/{{ convertToUnix(techRecord.createdAt) }}">View</a>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>
</section>
