<ng-container>
  <dl class="govuk-summary-list">
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">Vehicle type</dt>
      <dd id="vehicle-type" class="govuk-summary-list__value">{{ techRecord.vehicleType | uppercase | defaultNullOrEmpty }}</dd>
    </div>

    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">{{ techRecord && techRecord.vehicleType === 'trl' ? 'Trailer ID' : 'VRM' }}</dt>
      <dd id="vehicle-vrm" class="govuk-summary-list__value">
        {{ vrmOrTrailerId | uppercase | defaultNullOrEmpty }}
      </dd>
    </div>

    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">VIN/chassis number</dt>
      <dd id="vehicle-vin" class="govuk-summary-list__value">{{ vehicleRecord.vin | uppercase | defaultNullOrEmpty }}</dd>
    </div>
  </dl>
</ng-container>
<app-button id="submit-record-continue" (clicked)="handleSubmit()">Submit new record</app-button>

<ng-template #accordion let-sectionName="sectionName" let-section="section">
  <ng-container [ngSwitch]="sectionName">
    <app-body *ngSwitchCase="'bodySection'" [vehicleTechRecord]="techRecord" [isEditing]="true" (formChange)="ngOnChanges($event)"></app-body>

    <app-dimensions
      *ngSwitchCase="'dimensionsSection'"
      [vehicleTechRecord]="techRecord"
      [isEditing]="true"
      (formChange)="ngOnChanges($event)"
    ></app-dimensions>

    <app-psv-brakes
      *ngSwitchCase="'psvBrakesSection'"
      [vehicleTechRecord]="techRecord"
      [isEditing]="true"
      (formChange)="ngOnChanges($event)"
    ></app-psv-brakes>

    <app-trl-brakes
      *ngSwitchCase="'trlBrakesSection'"
      [vehicleTechRecord]="techRecord"
      [isEditing]="true"
      (formChange)="ngOnChanges($event)"
    ></app-trl-brakes>

    <app-tyres *ngSwitchCase="'tyreSection'" [vehicleTechRecord]="techRecord" [isEditing]="true" (formChange)="ngOnChanges($event)"></app-tyres>

    <app-weights
      *ngSwitchCase="'weightsSection'"
      [vehicleTechRecord]="techRecord"
      [isEditing]="true"
      (formChange)="ngOnChanges($event)"
    ></app-weights>

    <app-dynamic-form-group
      *ngSwitchDefault
      [template]="section"
      [data]="techRecord"
      [edit]="true"
      (formChange)="ngOnChanges($event)"
    ></app-dynamic-form-group>
  </ng-container>
</ng-template>

<section class="govuk-grid-row">
  <app-accordion-control [class]="'padding'">
    <div class="govuk-grid-column-one-half">
      <ng-container *ngFor="let section of templates; let i = index">
        <app-accordion *ngIf="i <= middleIndex" [id]="section.name" [title]="section.label">
          <ng-template [ngTemplateOutlet]="accordion" [ngTemplateOutletContext]="{ sectionName: section.name, section: section }"></ng-template>
        </app-accordion>
      </ng-container>
    </div>
    <div class="govuk-grid-column-one-half">
      <ng-container *ngFor="let section of templates; let i = index">
        <app-accordion *ngIf="i > middleIndex" [id]="section.name" [title]="section.label">
          <ng-template [ngTemplateOutlet]="accordion" [ngTemplateOutletContext]="{ sectionName: section.name, section: section }"></ng-template>
        </app-accordion>
      </ng-container>
    </div>
  </app-accordion-control>
</section>
