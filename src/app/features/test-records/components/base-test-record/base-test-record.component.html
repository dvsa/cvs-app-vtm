<div>
  <select [(ngModel)]="testTypeId" (ngModelChange)="handleTestTypeIdChangeOrSomething($event)">
    <option value="">...</option>
    <optgroup *ngFor="let vehicle of vehicleTypes$ | async | keyvalue" [label]="vehicle.key">
      <option *ngFor="let tt of vehicle.value" [value]="tt.id">{{ tt.name }}</option>
    </optgroup>
  </select>
</div>

<ng-container *ngFor="let template of generateTemplate()" [ngSwitch]="template.name">
  <app-defects
    *ngSwitchCase="'defects'"
    class="section"
    [id]="template.name"
    [isEditing]="isEditing"
    [template]="template"
    [data]="testResultCopy"
  ></app-defects>

  <app-dynamic-form-group
    *ngSwitchDefault
    class="section"
    [id]="template.name"
    [template]="template"
    [data]="testResultCopy"
    [edit]="isEditing"
    (formChange)="handleFormChange($event)"
  ></app-dynamic-form-group>
</ng-container>
