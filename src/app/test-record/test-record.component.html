<div class="govuk-width-container">
  <a class="govuk-back-link" (click)="goBack()">Back</a>

  <main class="govuk-main-wrapper">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-xl">Test record</h1>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-quarter">
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button">
          Change test record
        </button>
      </div>
      <div class="govuk-grid-column-one-quarter">
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button">
          View certificate
        </button>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <vtm-accordion>
          <vtm-accordion-item [title]="'Vehicle'">
            <vtm-vehicle [testRecord]="testRecord"></vtm-vehicle>
          </vtm-accordion-item>
          <vtm-accordion-item [title]="'Test'">
            <vtm-test-section [testType]="testType" [testRecord]="testRecord"></vtm-test-section>
          </vtm-accordion-item>
          <ng-container *ngIf="!defectsApplicable.includes(testType.testTypeId)">
            <vtm-accordion-item [title]="'Defects'">
              <vtm-defects [testType]="testType" [testRecord]="testRecord"></vtm-defects>
            </vtm-accordion-item>
          </ng-container>
          <vtm-accordion-item *ngIf="seatBeltApplicable.includes(testType.testTypeId) && testRecord.vehicleType=='psv'" [title]="'Seatbelt installation check'">
            <vtm-seatbelt-installation-check [testType]="testType"></vtm-seatbelt-installation-check>
          </vtm-accordion-item>
          <vtm-accordion-item  *ngIf="emissionDetailsApplicable.includes(testType.testTypeId) && (testRecord.vehicleType=='psv' || testRecord.vehicleType=='hgv')" [title]="'Emission details'">
            <vtm-emission-details [testType]="testType"></vtm-emission-details>
          </vtm-accordion-item>
          <vtm-accordion-item [title]="'Visit'">
            <vtm-visit [testRecord]="testRecord"></vtm-visit>
          </vtm-accordion-item>
          <vtm-accordion-item [title]="'Notes'">
            <vtm-notes [testType]="testType"></vtm-notes>
          </vtm-accordion-item>
          <vtm-accordion-item [title]="'Test record history'">
            <vtm-test-history></vtm-test-history>
          </vtm-accordion-item>
        </vtm-accordion>
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-quarter">
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button">
          Change test record
        </button>
      </div>
    </div>
  </main>
</div>

