@if (control) {
  <section class="govuk-!-margin-top-4">
    <h3 class="govuk-heading-m">ADR Examiner Notes History</h3>
    @if (control.value && control.value.length > 0) {
      <table class="govuk-table">
        <tbody class="govuk-table__body">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header whitespace-nowrap">Date</th>
            <th scope="col" class="govuk-table__header whitespace-nowrap">Created By</th>
            <th scope="col" class="govuk-table__header whitespace-nowrap">Notes</th>
          </tr>
          @for (result of control.value; track result; let i = $index; let isLast = $last) {
            @if (i < 3) {
              <tr class="govuk-table__row">
                <td class="govuk-table__cell break-words" [class.border-b-0]="i === 2 || isLast">
                  {{ result.createdAtDate | date : 'dd/MM/yyyy' | defaultNullOrEmpty }}
                </td>
                <td class="govuk-table__cell break-words" [class.border-b-0]="i === 2 || isLast">{{ result.lastUpdatedBy }}</td>
                <td class="govuk-table__cell break-words" [class.border-b-0]="i === 2 || isLast">
                  {{ result.note }}
                </td>
              </tr>
            }
          }
        </tbody>
      </table>
    } @else {
      <dl class="govuk-summary-list">
        <div class="govuk-summary-list__row border-b-0">
          <dt class="govuk-summary-list__key">No additional examiner notes history available</dt>
        </div>
      </dl>
    }
  </section>
}
