<form [formGroup]="form">
  <dl class="govuk-summary-list" *ngIf="eligibleForPlates">
    <ng-container *ngIf="hasPlates">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Plate serial number</dt>
        <dd id="plate-serial-number" class="govuk-summary-list__value">{{ mostRecentPlate?.plateSerialNumber | defaultNullOrEmpty }}</dd>
        <dd id="plate" class="govuk-summary-list__value">
          <button id="plate-link" class="link" appRetrieveDocument [params]="documentParams" [fileName]="fileName">View plate</button>
        </dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Plate issue date</dt>
        <dd id="plate-date" class="govuk-summary-list__value">{{ mostRecentPlate?.plateIssueDate | date: 'dd/MM/yyyy HH:mm' }}</dd>
      </div>
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">Plate issuer</dt>
        <dd id="plate-issuer" class="govuk-summary-list__value">{{ mostRecentPlate?.plateIssuer | defaultNullOrEmpty }}</dd>
      </div>
    </ng-container>
    <ng-container *ngIf="!hasPlates">
      <div>
        <dt class="govuk-summary-list__key">This vehicle does not have a plate.</dt>
      </div>
    </ng-container>
    <div class="govuk-grid-row" *ngIf="techRecord.statusCode === 'current' && !isEditing">
      <br />
      <div class="govuk-grid-column-full">
        <app-button id="generate-plate-link" type="link" routerLink="generate-plate" *appRoleRequired="roles.TechRecordAmend"
          >Generate plate</app-button
        >
      </div>
    </div>
  </dl>

  <dl class="govuk-summary-list" *ngIf="!eligibleForPlates">
    <div>
      <dt class="govuk-summary-list__key">{{ reasonForIneligibility }}</dt>
    </div>
  </dl>
</form>
