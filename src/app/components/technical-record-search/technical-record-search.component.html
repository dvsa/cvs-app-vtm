<div class="govuk-width-container">

  <main class="govuk-main-wrapper">

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">

        <div *ngIf="(searchError$ | async) as searchError" class="govuk-error-summary"
          aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
          <div *ngIf="searchError != null || searchError != undefined">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
              There is a problem
            </h2>
            <span class="govuk-error-message">
                <span class="govuk-visually-hidden">Error:</span> {{ searchError.error }}
              </span>
            <!-- <div class="govuk-error-summary__body">
              <ul class="govuk-list govuk-error-summary__list">
                <li>
                  <a href="#searchIdentifier">{{ searchError.error }} </a>
                </li>
              </ul>
            </div> -->
          </div>
        </div>

        <h1 class="govuk-heading-xl">Search for a technical record</h1>

        <div
          [ngClass]="{'govuk-form-group': true, 'govuk-form-group--error': techRecords != undefined ? techRecords.length == 0 || techRecords.length > 1 : false}">

          <label class="govuk-label" for="searchIdentifier">
            Enter vehicle registration mark, trailer ID or vehicle identification number
          </label>

          <span *ngIf="techRecords != undefined ? techRecords.length == 0 || techRecords.length > 1 : false"
            id="name-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span>
            Check and re-enter vehicle registration mark, trailer ID or vehicle identification number
          </span>

          <input #q
            [ngClass]="{'govuk-input': true, 'govuk-input--error': techRecords != undefined ? techRecords.length == 0 || techRecords.length > 1 : false }"
            id="searchIdentifier" name="searchIdentifier" type="text" aria-describedby="name-error">
        </div>

        <a role="button" (click)="searchTechRecords(q.value)" draggable="false" class="govuk-button govuk-button--start"
          data-module="govuk-button">
          Search
          <svg class="govuk-button__start-icon" xmlns="http://www.w3.org/2000/svg" width="17.5" height="19"
            viewBox="0 0 33 40" role="presentation" focusable="false">
            <path fill="currentColor" d="M0 0h13l20 20-20 20H0l20-20z" />
          </svg>
        </a>

      </div>
    </div>

  </main>
</div>