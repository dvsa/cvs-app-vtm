<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <form [formGroup]="adrForm">
      <h2 class="govuk-heading-m">Tank documents</h2>

      <table class="govuk-table">
        <tbody class="govuk-table__body">
        <ng-container *ngIf="documents; else noDoc">
          <ng-container *ngIf="documents.controls.length; else noDoc">
            <ng-container
              *ngFor="let metaData of documents.controls; let i = index"
              [formGroup]="metaData"
            >
              <tr class="govuk-table__row">
                <td class="govuk-table__cell govuk-!-width-three-quarters">
                  {{ metaData.get('fileName').value }}
                </td>
                <td class="govuk-table__cell">
                  <a
                    href="javascript:void(0)"
                    class="govuk-link"
                    (click)="downloadDocument(metaData.value)"
                  >
                    View
                  </a>
                </td>
                <td class="govuk-table__cell govuk-!-width-one-quarter" *ngIf="edit">
                  <a href="javascript:void(0)" class="govuk-link" (click)="removeDocument(i)">
                    Remove
                  </a>
                </td>
              </tr>
            </ng-container>
          </ng-container>
        </ng-container>

          <div class="govuk-!-margin-top-3 file-input" *ngIf="edit">
            <label
              class="govuk-button govuk-button--secondary govuk-!-margin-left-0"
              type="button"
            >
              <input
                id="file-upload"
                type="file"
                accept=".pdf"
                (change)="uploadSelectedFile($event)"
              />

              Upload document
            </label>
          </div>

          <ng-template #noDoc>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell govuk-!-width-three-quarters">-</td>
              <td class="govuk-table__cell">-</td>
              <td class="govuk-table__cell">-</td>
            </tr>
          </ng-template>
        </tbody>
      </table>
    </form>
  </div>
</div>
